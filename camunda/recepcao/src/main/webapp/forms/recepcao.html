<!--
You can use this form through Camunda Tasklist
by setting the formKey of a BPMN Start Event to:
embedded:app:forms/start-form.html
-->

<form class="form-horizontal" role="form">
  <div class="form-group">
    <label for="protocolo" class="col-sm-2 control-label">Protocolo</label>
    <div class="col-sm-10">
      <input type="text"
             name="protocolo"
             id="protocolo"
             cam-variable-name="protocolo"
             cam-variable-type="String"
             required
             disabled
             class="form-control" />
    </div>
  </div>
  <div class="form-group">
    <label for="nomeCliente" class="col-sm-2 control-label">Nome Cliente</label>
    <div class="col-sm-10">
      <input type="text"
             name="nomeCliente"
             id="nomeCliente"
             cam-variable-name="nomeCliente"
             cam-variable-type="String"
             required
             disabled
             class="form-control" />
    </div>
  </div>
  <div class="form-group">
    <label for="setor" class="col-sm-2 control-label">Setor</label>
    <div class="col-sm-10">
      <select class="form-control"
          required
          disabled
          name="setor"
          id="setor"
          data-ng-model="setorVar"
      >
        <option>Tesouraria</option>
        <option>RH</option>
        <option>Comercial</option>
        <option>Vendas</option>
        <option>Solicitação Diversos</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="observacao" class="col-sm-2 control-label">Observação</label>
    <div class="col-sm-10">
      <textarea cols="80" rows="5"
             name="observacao"
             id="observacao"
             cam-variable-name="observacao"
             cam-variable-type="String"
             class="form-control" ></textarea>
    </div>
  </div>

  <script cam-script type="text/form-script">
    var variableManager = camForm.variableManager;

    camForm.on('form-loaded', function(){
      variableManager.fetchVariable('setor');
    });
    
    camForm.on('variables-fetched', function(){
      $scope.setorVar = variableManager.variableValue('setor');
      console.log("variavel ", $scope.setorVar)
    });
  </script>
</form>
